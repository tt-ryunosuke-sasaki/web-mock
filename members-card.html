<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>会員証 | Mock</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Optional: iOS safe-area -->
  <style>
    :root { color-scheme: light; }
    .safe-top { padding-top: env(safe-area-inset-top); }
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
  </style>
</head>

<body class="bg-slate-950 text-slate-50">
  <div class="min-h-dvh safe-top safe-bottom">
    <!-- Header -->
    <header class="sticky top-0 z-20 backdrop-blur bg-slate-950/70 border-b border-white/10">
      <div class="mx-auto max-w-md px-4 py-3 flex items-center gap-3">
        <button
          class="shrink-0 inline-flex items-center justify-center w-9 h-9 rounded-full bg-white/10 active:scale-95 transition"
          aria-label="戻る"
          onclick="history.back()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>

        <div class="flex-1">
          <p class="text-xs text-slate-300">My Club</p>
          <h1 class="text-base font-semibold leading-tight">会員証</h1>
        </div>

        <button
          class="shrink-0 inline-flex items-center justify-center w-9 h-9 rounded-full bg-white/10 active:scale-95 transition"
          aria-label="ヘルプ"
          onclick="openHelp()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4"/>
            <path d="M12 17h.01"/>
          </svg>
        </button>
      </div>
    </header>

    <main class="mx-auto max-w-md px-4 pb-28">
      <!-- Status banner -->
      <section class="mt-4">
        <div class="rounded-2xl border border-white/10 bg-gradient-to-r from-emerald-500/15 to-cyan-500/10 p-4">
          <div class="flex items-start gap-3">
            <div class="mt-0.5 w-10 h-10 rounded-xl bg-emerald-400/20 flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5"/>
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-sm font-semibold">有効な会員証です</p>
              <p class="text-xs text-slate-300 mt-1">
                スタッフ提示用のQRと会員番号を表示しています。
              </p>
            </div>
            <span class="text-xs px-2 py-1 rounded-full bg-emerald-400/20 text-emerald-200 border border-emerald-400/20">
              ACTIVE
            </span>
          </div>
        </div>
      </section>

      <!-- Membership card -->
      <section class="mt-4">
        <div class="relative overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-white/10 to-white/5 shadow-[0_20px_80px_-30px_rgba(0,0,0,0.8)]">
          <!-- Decorative blobs -->
          <div class="pointer-events-none absolute -top-16 -right-12 w-40 h-40 rounded-full bg-cyan-400/20 blur-2xl"></div>
          <div class="pointer-events-none absolute -bottom-20 -left-12 w-44 h-44 rounded-full bg-emerald-400/20 blur-2xl"></div>

          <div class="relative p-5">
            <div class="flex items-center justify-between gap-3">
              <div class="flex items-center gap-3">
                <div class="w-11 h-11 rounded-2xl bg-white/10 border border-white/10 flex items-center justify-center font-bold tracking-tight">
                  MC
                </div>
                <div>
                  <p class="text-xs text-slate-300">会員ランク</p>
                  <p class="text-base font-semibold">Platinum</p>
                </div>
              </div>
              <div class="text-right">
                <p class="text-xs text-slate-300">有効期限</p>
                <p class="text-sm font-semibold">2026/12/31</p>
              </div>
            </div>

            <div class="mt-5 grid grid-cols-[1fr_auto] gap-4 items-start">
              <div>
                <p class="text-xs text-slate-300">氏名</p>
                <p class="text-lg font-semibold leading-snug">山田 太郎</p>

                <div class="mt-3">
                  <p class="text-xs text-slate-300">会員番号</p>
                  <div class="mt-1 flex items-center gap-2">
                    <code id="memberId" class="text-sm font-semibold tracking-widest bg-black/20 border border-white/10 rounded-xl px-3 py-2">
                      1234 5678 9012
                    </code>
                    <button
                      class="inline-flex items-center justify-center w-10 h-10 rounded-xl bg-white/10 border border-white/10 active:scale-95 transition"
                      aria-label="会員番号をコピー"
                      onclick="copyMemberId()"
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="mt-4 flex gap-2">
                  <span class="text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-slate-200">本人確認済</span>
                  <span class="text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-slate-200">通知ON</span>
                </div>
              </div>

              <!-- QR area -->
              <div class="shrink-0">
                <div class="rounded-2xl bg-white p-3 w-28 h-28 flex items-center justify-center shadow">
                  <!-- Mock QR (SVG placeholder) -->
                  <svg viewBox="0 0 120 120" class="w-full h-full">
                    <rect width="120" height="120" fill="#fff"/>
                    <rect x="8" y="8" width="36" height="36" fill="#111"/>
                    <rect x="14" y="14" width="24" height="24" fill="#fff"/>
                    <rect x="20" y="20" width="12" height="12" fill="#111"/>

                    <rect x="76" y="8" width="36" height="36" fill="#111"/>
                    <rect x="82" y="14" width="24" height="24" fill="#fff"/>
                    <rect x="88" y="20" width="12" height="12" fill="#111"/>

                    <rect x="8" y="76" width="36" height="36" fill="#111"/>
                    <rect x="14" y="82" width="24" height="24" fill="#fff"/>
                    <rect x="20" y="88" width="12" height="12" fill="#111"/>

                    <!-- noise modules -->
                    <g fill="#111">
                      <rect x="52" y="10" width="6" height="6"/>
                      <rect x="58" y="16" width="6" height="6"/>
                      <rect x="64" y="22" width="6" height="6"/>
                      <rect x="52" y="28" width="6" height="6"/>
                      <rect x="58" y="34" width="6" height="6"/>

                      <rect x="50" y="52" width="6" height="6"/>
                      <rect x="56" y="58" width="6" height="6"/>
                      <rect x="62" y="52" width="6" height="6"/>
                      <rect x="68" y="58" width="6" height="6"/>
                      <rect x="74" y="52" width="6" height="6"/>

                      <rect x="52" y="70" width="6" height="6"/>
                      <rect x="58" y="76" width="6" height="6"/>
                      <rect x="64" y="82" width="6" height="6"/>
                      <rect x="70" y="88" width="6" height="6"/>
                      <rect x="76" y="70" width="6" height="6"/>

                      <rect x="92" y="52" width="6" height="6"/>
                      <rect x="98" y="58" width="6" height="6"/>
                      <rect x="104" y="64" width="6" height="6"/>
                      <rect x="92" y="70" width="6" height="6"/>
                      <rect x="98" y="76" width="6" height="6"/>
                    </g>
                  </svg>
                </div>
                <p class="mt-2 text-[11px] text-slate-300 text-center">スタッフ提示用</p>
              </div>
            </div>

            <!-- Quick actions -->
            <div class="mt-5 grid grid-cols-3 gap-2">
              <button class="rounded-2xl bg-white/10 border border-white/10 px-3 py-3 text-sm font-semibold active:scale-[0.99] transition" onclick="openBarcode()">
                バーコード
              </button>
              <button class="rounded-2xl bg-white/10 border border-white/10 px-3 py-3 text-sm font-semibold active:scale-[0.99] transition" onclick="openBenefits()">
                特典
              </button>
              <button class="rounded-2xl bg-white/10 border border-white/10 px-3 py-3 text-sm font-semibold active:scale-[0.99] transition" onclick="openHistory()">
                利用履歴
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Points / balance -->
      <section class="mt-4 grid grid-cols-2 gap-3">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <p class="text-xs text-slate-300">保有ポイント</p>
          <p class="mt-1 text-2xl font-semibold"><span id="points">12,340</span><span class="text-sm text-slate-300 ml-1">pt</span></p>
          <p class="mt-2 text-[11px] text-slate-300">最終更新: <span id="updatedAt">2026/02/17</span></p>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <p class="text-xs text-slate-300">今月の利用回数</p>
          <p class="mt-1 text-2xl font-semibold"><span id="visits">4</span><span class="text-sm text-slate-300 ml-1">回</span></p>
          <p class="mt-2 text-[11px] text-slate-300">次回特典まであと <span id="toNext">1</span> 回</p>
        </div>
      </section>

      <!-- Notices -->
      <section class="mt-4">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <div class="flex items-start justify-between gap-3">
            <div>
              <p class="text-sm font-semibold">お知らせ</p>
              <p class="text-xs text-slate-300 mt-1">2/20まで：ポイント2倍キャンペーン実施中</p>
            </div>
            <button class="text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 active:scale-95 transition" onclick="openNotices()">
              もっと見る
            </button>
          </div>
        </div>
      </section>

      <!-- Settings shortcut -->
      <section class="mt-4">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-white/10 border border-white/10 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 20h9"/>
                  <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                </svg>
              </div>
              <div>
                <p class="text-sm font-semibold">会員情報の編集</p>
                <p class="text-xs text-slate-300">氏名・通知設定など</p>
              </div>
            </div>
            <button class="w-10 h-10 rounded-xl bg-white/10 border border-white/10 active:scale-95 transition flex items-center justify-center" aria-label="開く" onclick="openProfile()">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 18l6-6-6-6"/>
              </svg>
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom action bar -->
    <nav class="fixed bottom-0 left-0 right-0 z-30">
      <div class="mx-auto max-w-md px-4 pb-4">
        <div class="rounded-2xl border border-white/10 bg-slate-900/70 backdrop-blur p-3 flex gap-2">
          <button class="flex-1 rounded-xl bg-emerald-500/90 text-slate-950 font-semibold py-3 active:scale-[0.99] transition" onclick="presentCard()">
            会員証を提示
          </button>
          <button class="w-12 rounded-xl bg-white/10 border border-white/10 active:scale-[0.99] transition flex items-center justify-center" aria-label="更新" onclick="refreshMock()">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12a9 9 0 1 1-3-6.7"/>
              <path d="M21 3v6h-6"/>
            </svg>
          </button>
        </div>
      </div>
    </nav>

    <!-- Toast -->
    <div id="toast" class="fixed left-1/2 -translate-x-1/2 bottom-24 z-50 hidden">
      <div class="rounded-full bg-black/70 border border-white/10 px-4 py-2 text-sm backdrop-blur">
        <span id="toastText">コピーしました</span>
      </div>
    </div>

    <!-- Simple modal -->
    <div id="modal" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/60" onclick="closeModal()"></div>
      <div class="absolute left-1/2 top-1/2 w-[92%] max-w-md -translate-x-1/2 -translate-y-1/2 rounded-3xl border border-white/10 bg-slate-900 p-5">
        <div class="flex items-start justify-between gap-3">
          <div>
            <p id="modalTitle" class="text-base font-semibold">モーダル</p>
            <p id="modalBody" class="text-sm text-slate-300 mt-1">内容</p>
          </div>
          <button class="w-10 h-10 rounded-xl bg-white/10 border border-white/10 active:scale-95 transition" aria-label="閉じる" onclick="closeModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 6 6 18"/>
              <path d="m6 6 12 12"/>
            </svg>
          </button>
        </div>

        <div class="mt-4">
          <button class="w-full rounded-2xl bg-white/10 border border-white/10 py-3 font-semibold active:scale-[0.99] transition" onclick="closeModal()">
            閉じる
          </button>
        </div>
      </div>
    </div>

  </div>

  <script>
    function toast(msg) {
      const el = document.getElementById('toast');
      const text = document.getElementById('toastText');
      text.textContent = msg;
      el.classList.remove('hidden');
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => el.classList.add('hidden'), 1600);
    }

    function copyMemberId() {
      const raw = document.getElementById('memberId').innerText.replace(/\s+/g, '');
      navigator.clipboard?.writeText(raw)
        .then(() => toast('会員番号をコピーしました'))
        .catch(() => toast('コピーに失敗しました'));
    }

    function openModal(title, body) {
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalBody').textContent = body;
      document.getElementById('modal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
      document.body.style.overflow = '';
    }

    function openHelp() { openModal('ヘルプ', '会員証の提示方法やトラブルシューティングを表示する想定です。'); }
    function openBarcode() { openModal('バーコード', 'バーコード表示画面へ遷移する想定です（ここではモック）。'); }
    function openBenefits() { openModal('特典', '会員ランクに応じた特典一覧を表示する想定です。'); }
    function openHistory() { openModal('利用履歴', '直近の利用履歴を表示する想定です。'); }
    function openNotices() { openModal('お知らせ', 'キャンペーン/メンテ情報など一覧を表示する想定です。'); }
    function openProfile() { openModal('会員情報の編集', 'プロフィール編集画面へ遷移する想定です。'); }

    function presentCard() {
      toast('会員証を提示しました（モック）');
      // 実装例: ここで QR をフルスクリーン表示 / 画面輝度UP / スリープ抑止などを行う
    }

    function refreshMock() {
      // ダミー更新（値を適当に変えるだけ）
      const points = document.getElementById('points');
      const visits = document.getElementById('visits');
      const toNext = document.getElementById('toNext');
      points.textContent = (Math.floor(Math.random() * 9000) + 1000).toLocaleString('ja-JP');
      const v = Math.floor(Math.random() * 8) + 1;
      visits.textContent = String(v);
      toNext.textContent = String(Math.max(0, 5 - (v % 5)));
      toast('更新しました（モック）');
    }
  </script>
</body>
</html>
